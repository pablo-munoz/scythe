{% extends '_layouts/default.html' %}

{% set title = 'System Documentation' %}

{% block content %}

<div>
  <h1>Dependencies</h1>

  <p>Scythe depends on the following packages, they all were installed
  through the node package manager.</p>

  <ref name="Dependencies" file="scythe.js"></ref>

  <p>The following is a brief description of each module in conjuction
  with some insights to what their role is within the system.</p>

  <table class="table">
    <thead>
      <tr>
        <th>Module</th>
        <th>Desription</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td class="mono">fs&#8209;extra</td>
        <td>An extended version of Node's standard <code>fs</code> module. It
          includes extra functionality such as the ability to copy files or
          walk a directory.</td>
      </tr>
      <tr>
        <td class="mono">path</td>
        <td>Node's standard path module. It provides the facilities for
          manipulating filesystem paths and doing things with them such
          as determining their extension or coming up with relative paths
          from one file to another.</td>
      </tr>
      <tr>
        <td class="mono">nunjucks</td>
        <td>The template engine used to process the html files that will be
          the pages of the generated static site. As a referesher, a templating
          engine is a program that process some html file or string that
          can contain some non-standard syntax which gets expanded into
          html in the output.</td>
      </tr>
      <tr>
        <td class="mono">highlight.js</td>
        <td>The server side version of highlightjs, a JavaScript program that,
          when given a string of source code it returns a version of it that has
          been marked up with html and that with, in conjuction with a css file
          result in the given code to appear syntax highlighted in the browser,
          much like it would do in any fancy text editor.</td>
      </tr>
      <tr>
        <td class="mono">js-yaml</td>
        <td>A processor of yaml (yaml is a file format used to
          describe data, much like JSON), it is used in several parts
          of the application where the system reads yaml file written
          by the user with custom data.</td>
      </tr>
      <tr>
        <td class="mono">underscore</td>
        <td>A collection of utility functions which make writing
          JavaScript code simpler and allow for the use of a more
          functional-oriented programming style.</td>
      </tr>
      <tr>
        <td class="mono">q</td>
        <td>A library for implementeing the promise interface in our code. For
          the unexperienced, the promise interface is a way to orchestrate
          the run order of a several asynchronous functions.</td>
      </tr>
      <tr>
        <td class="mono">commander</td>
        <td>This node modules facilitiates the creation of command line
        interfaces.</td>
      </tr>
      <tr>
        <td class="mono">promptly</td>
        <td>In some parts of the application we need to stop and ask
          the user for confirmation or to give us some additional
          data, this library implements methods for establishing
          communication with the user.</td>
      </tr>
    </tbody>
  </table>

  <div class="alert alert-warning">Notice how the name of the required
    modules does not necessary match the name of the variable used to
    referenc them. For example, the module <code>fs-extra</code> is
    referred to by the variable <code>fse</code>.</div>
</div>

<div>
  <h1>Manifest constants</h1>

  <h2><span class="mono">CONFIG_FILENAME</span></h2>

  <ref name="CONFIG_FILENAME" file="scythe.js"></ref>

  <p>This is the name that the configuration file should have, if
  there is one, within the current workig directory.</p>


  <h2><span class="mono">MODULE_ROOT</span></h2>

  <ref name="MODULE_ROOT" file="scythe.js"></ref>

  <p>This is the absolute path of the directory where the scythe module
  was installed within the user's system.</p>


  <h2><span class="mono">FILE_TYPE_...</span></h2>

  <ref name="FILE_TYPE_..." file="scythe.js"></ref>

  <p>These constants are used to identify each of the 3 possible types
  that a file within the input dir can have.</p>


  <h2><span class="mono">CODE_REF_IN_HTML_REGEX</span></h2>

  <ref name="CODE_REF_IN_HTML_REGEX" file="scythe.js"></ref>

  <p>This is a regular expression that matches the reference to code
    that the user puts in the html files that will be the pages of the
    generated website.</p>

  <h2><span class="mono">BLOCK_CODE_REF_IN_SRC_REGEX</span></h2>

  <ref name="BLOCK_CODE_REF_IN_SRC_REGEX" file="scythe.js"></ref>

  <p>This is a JavaScript plain object used as a dictionary that
    maps file extensions, e.g. ".js", to the regular expressions that match
    code references of type "block".</p>


  <h2><span class="mono">SIMPLE_CODE_REF_IN_SRC_REGEX</span></h2>

  <ref name="SIMPLE_CODE_REF_IN_SRC_REGEX" file="scythe.js"></ref>

  <p>This is a JavaScript plain object used as a dictionary that
    maps file extensions, e.g. ".js", to the regular expressions that match
    code references of type "simple".</p>
</div>

<div>
  <h1>CLI program</h1>

  <h2>Configuration</h2>
  <ref name="cli configuration" file="scythe.js"></ref>

  <h2><span class="mono">mksite</span> command</h2>
  <ref name="cli mksite cmd" file="scythe.js"></ref>

  <h2><span class="mono">mktemplate</span> command</h2>
  <ref name="cli mktemplate cmd" file="scythe.js"></ref>
</div>

{% endblock %}
