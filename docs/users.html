{% extends '_layouts/default.html' %}

{% set title = 'User\'s Guide' %}

{% block content %}

<div>
  <h1>Preliminaries</h1>

  <p>A big part of the Scythe program is the use of the nunjucks
    template engine. If you have not used the nunjucks template engine
    before, or any template engine at all, we urge you to take a good
    look at the <a href="{{ data.links.nunjucks }}">nunjuck's documentation</a>
    before proceeding.</p>
</div>

<div>
  <h1>Installation</h1>

  <p>First ensure that you have <a href="data.links.node">NodeJS</a> and the Node's package manager <a href="data.links.npm">NPM</a> installed.
  The in a console run the following command.</p>

  <pre>npm install scythe -g</pre>

  <div class="alert alert-info">
    The <code>-g</code> option of the installation command instructs
    NPM that you want the program to be installed globally, this way
    you will be able to call it from anywhere with your console.
  </div>
</div>

<div>
  <h1>Commands</h1>

  <p>
    The Scythe program comes with a number of commands that are
    detailed below, of these, the <code>mksite</code> command is the
    most important as it is the one that carries out the static
    website generation. The rest of the commands are conerned only
    with quality of life improvements.
  </p>


  <h2><span class="mono">mksite</span></h2>

  <p>The <code>mksite</code> command is the most important one. When
  called it will process all files and directories in the current
  working directory and creates a static site out of them. By default,
  the generated static site will be inside the <code>_site/</code> special directory, at the
  first level of whatever directory you are running the command from.</p>


  <h2><span class="mono">mktemplate</span></h2>

  <p>The <code>mktemplate</code> command creates a default Scythe
    directory. After running it you end up with the following:</p>

  <ul>
    <li>A <code>docs/</code> directory. This will be the directory you should
      run the <code>mksite</code> command from. The following things
    listed will all be inside of it.</li>
    <li>An empty <code>_config.yml</code>.</li>
    <li>The special directories <code>_data/</code>, <code>_layouts/</code> and <code>_includes/</code>.</li>
    <li>A <code>default.html</code> super template (inside of <code>_layouts/</code>).</li>
    <li>A <code>public/</code> verbatim directory is created for
      you. It will contain a jquery file, toc.js which is our custom
      version of the toc.js library (used for automatically generating
      a table of contents for every page), solarized-dark.css which is
      one of highlight.js many themes for the syntax coloring of the
      source code and style.css the main stylesheet.</li>
    <li>An <code>index.html</code> page-type file with some html
      boilerplate that already links to/includes the various
      JavaScripts and css files of <code>public/</code>.</li>
  </ul>

  <p>If you run the <code>mksite</code> command with the cwd being the directory created by
    <code>mktemplate</code> you will end up with a static site with the same look and feel as this
  very documentation.</p>

</div>

<div>
  <h1>Making a site</h1>

  <p>The following is a walkthrough of what you should do, from start
  to finish, to create a static site using Scythe. All in between the
  walkthrough will be detailed explanations of the different concepts
  involved, these will appear as the concepts are presented.</p>

  <h2>Create the input directory</h2>

  <p>The first step is to create the input (a.k.a. Scythe)
  directory. This will be the repository of all the files pertaining
  to the site. You can give it whatever name you like, we usually go
  with <code>docs/</code>.</p>

  <h2>Create the special files</h2>

  <p>Inside the input directory you must now create the so called
  "special" files and directories. They are called special because
  they are exclusively for the use of the program and contain
  additional information or instructions that alter it's default
  behaviour.</p>

  <p>The special files and directories are:</p>

  <h3><span class="mono">_config.yml</span></h3>

  <p>This is a yaml file that should contain a dictionary whose
  properties will be configuration options and whose values override
  the default settings of the application. Configuration options are
  things like the name that the output directory should have.</p>

  <h3><span class="mono">_layouts/</span></h3>

  <p>This directory is where you should put all the templates that
    will be extended, i.e. that will be the "super templates" of a
    template inheritance directive. If the previous sentence didn't
    make sense to you make sure to read up on the
    <a href="{{ data.links.nunjucks }}">nunjucks documentation</a> first.</p>

  <h3><span class="mono">_includes/</span></h3>

  <p>This is the place where the html files that will be included in the page-type files should be. Again, be sure to
    read the <a href="{{ data.links.nunjucks }}">nunjucks
    documentation</a> if you
    are not sure what including a template means.</p>

  <h3><span class="mono">_data/</span></h3>

  <p>This is the directory to use if you want to include some data in
    the context of the template engine. To do so, put the desired data
    in yaml format in a file with .yml extension, this data will
    appear in the context as the value of the property <code>data.file-name-without-extension</code>.
    For example, if I put contact data in the <code>_data/contact.yml</code> file, I can
    refer to it's contents in the templates through the directive
    {% raw %}<code>{{ data.contact.whatever_you_put_in_the_file }}</code>{% endraw %}.</p>

  <div class="alert alert-info">
    There is another directory that is catalogued as "special", the
    output directory, whose default name, unless overriden in the
    _config.yml file, is <code>_site/</code>.
    This directory never directly manipulated by the user, as it is
    the where the generated static site is put into. </div>

  <h2>Create the page's html</h2>

  <p>Put the html code of each page in an file with a .html
    extension. Make sure to leverage the power of the nunjucks
    templating engine, for example it wouldn't make much sense for
    your pages to ommit the {% raw %}<code>{% extends %}</code>{% endraw %} directive.</p>

  <p>When generating the static site, each page will be transcoded and
  it's output will be placed in an identically named file with the
  same path hierarchy but inside of the output directory.</p>

  <h2>Create the verbatim files</h2>

  <p>Put any other verbatim files inside the input directory, remember
  that we name verbatim those files and directories that are meant to
  be copied as-is without any transformation. In general this will be
  static assets (images, stylesheets, etc.) of the site.</p>

  <h2>Run the <span class="mono">mksite</span> command</h2>

  <p>Open a console, change the working directory to be the input
  directory you created in the beginning and run the following
  command.</p>

  <pre>scythe mkscythe</pre>

  <h2>Enjoy your new site</h2>

  <p>You can now navigate to the output directory (<code>_site/</code> by
  default) and view your website in your browser. Or you can upload
  the output directory to some hosting provider to make your site
  available to the whole world.</p>
</div>


{% endblock %}
